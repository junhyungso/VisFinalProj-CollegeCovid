<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Covid Cases</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/underscore@1.11.0/underscore-min.js"></script>
    <!-- import the webpage's javascript file -->

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">

    <script src="Mapchart.js" defer type="module"></script>
    <script src="microbeEmoji.js" type="module" ></script>
    <script src="circlechart.js" defer type="module"></script>
    <script src="stateCases.js" defer type="module"></script>

    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <script>
      const spec = "visualization.vl.json";
      vegaEmbed("#vis", spec)
        // result.view provides access to the Vega View API
        .then(result => console.log(result))
        .catch(console.warn);
    </script>
    <script>
      const spec2 = "viscases.vl.json";
      vegaEmbed("#vis2", spec2)
        // result.view provides access to the Vega View API
        .then(result => console.log(result))
        .catch(console.warn);
    </script>
        <link rel="stylesheet" href="style.css">


</head>
<body>  
  <section class="intro">
    <div class="text-block">
      <p>By: Grace Sacco, Shahzad Manji, Larissa Portillo, Junhyung So</p>
    </div>
    <div class="container">
      <div class="divrow">
        <h1>Was the Decision to Bring Students Back to Campus a Safe Idea?</h1> 
      </div>
      <div class="divrow">
        <p>What do YOU think?</p>
      </div>
      <div class="divrow">
        <a href="#mapSection">
          <button class="left-button" id="but1" value="Yes" onclick="buttonAnswer1()">Yes</button>        
        </a>
        <a href="#mapSection">
          <button class="right-button" id="but2" value="No" onclick="buttonAnswer2()">No</button>
        </a>
      </div>
      <div class="divrow">
        <div class="col1">
        </div>
        <div class="col2">
          <img src="./assets/college-corona.jpg" alt="">
        </div>
      </div>
    </div>
    </section>
  
    <section id="mapSection" class="mapsect">
      <p id="answerHTML">You answered: </p>
      <p>Individual colleges have been making their own decisions on whether to open or close schools based on the trend of cases, state regulations, and the affordability of safety.</p>
      
      <br />
      <p>The United States map shown above has several important components. First, the states are color-coded based on their number of cumulative Covid-19 cases as of November 5th. Darker blue colored states such as California have much higher cases than lighter blue colored states such as New Mexico. There are also dots on the locations of top 100 ranked colleges in the United States. These dots are colored red if their state does not require masks, and colored green if they do require masks. These dots are also sized based on the number of cases these colleges have. Click on a state with a top 100 ranked college to see how many cases per college in that state.</p>

      <h3>US Map of Covid-19 Cases by State and Top 100 Colleges</h3> 
      <form class="mapbutton">
          <input id="map" type="radio" name="pick" value="States"> States
          <input id="map" type="radio" name="pick" value="Colleges" checked> Top 100 Colleges
      </form>
      <p>Hover states for total state cases and click the states for detailed case count for colleges in that state.</p>
      <div class="mapchart"></div>
    </section>


    <section class="intro"> 
      <label id="stateChoose" for="states" margin-left="5px">Choose a state:</label>
      <div class="statesChoice">
        <div class="col2">
          <select id="states-choice" name="states">
            <option value="Alabama">Alabama</option>
            <option value="Alaska">Alaska</option>
            <option value="Arkansas">Arkansas</option>
            <option value="California">California</option>
            <option value="Colorado">Colorado</option>
            <option value="Connecticut">Connecticut</option>
            <option value="Delaware">Delaware</option>
            <option value="Florida">Florida</option>
            <option value="Georgia">Georgia </option>
            <option value="Hawaii">Hawaii</option>
            <option value="Idaho">Idaho</option>
            <option value="Illinois">Illinois</option>
            <option value="Indiana">Indiana</option>
            <option value="Iowa">Iowa</option>
            <option value="Kansas">Kansas</option>
            <option value="Kentucky">Kentucky</option>
            <option value="Louisiana">Louisiana</option>
            <option value="Maine">Maine</option>
            <option value="Maryland">Maryland</option>
            <option value="Massachusetts">Massachusetts</option>
            <option value="Michigan">Michigan</option>
            <option value="Minnesota">Minnesota</option>
            <option value="Missouri">Missouri</option>
            <option value="Montana">Montana</option>
            <option value="Michigan">Michigan</option>
            <option value="Nebraska">Nebraska</option>
            <option value="Nevada">Nevada</option>
            <option value="New Hampshire">New Hampshire</option>
            <option value="New Jersey">New Jersey</option>
            <option value="New Mexico">New Mexico</option>
            <option value="New York">New York</option>
            <option value="North Carolina">North Carolina</option>
            <option value="North Dakota">North Dakota</option>
            <option value="Ohio">Ohio</option>
            <option value="Oklahoma">Oklahoma</option>
            <option value="Oregon">Oregon</option>
            <option value="Pennsylvania">Pennsylvania</option>
            <option value="Rhode Island">Rhode Island</option>
            <option value="South Carolina">South Carolina</option>
            <option value="South Dakota">South Dakota</option>
            <option value="Tennessee">Tennessee</option>
            <option value="Texas">Texas</option>
            <option value="Utah">Utah</option>
            <option value="Texas">Texas</option>
            <option value="Vermont">Vermont</option>
            <option value="Virginia">Virginia</option>
            <option value="Washington, D.C.">Washington, D.C.</option>
            <option value="Washington">Washington</option>
            <option value="West Virginia">West Virginia</option>
            <option value="Wisconsin">Wisconsin</option>
            <option value="Wyoming">Wyoming</option>
          </select>
        </div>
        
        <div class="col1">
          <p id="stateText"></p>
        </div>
      </div>
      <div id="chart-area"></div>
    </section>
    <br />
    <div id="tooltip" class="hidden">
      <p><span id="value"></span></p>
  </div>
    <section class="intro">
      <h3>Top 100 Colleges vs. Their School Opening Status</h3>
      <div id="circle-chart"></div>
      <p>The visualization depicted above shows the amount of cases schools have based on what regulations they chose to have for the Fall 2020 semester. We consider hybrid schools to be colleges or universities that did not allow all students to return for the semester, but allowed some students to be on campus. For example, Harvard University only allowed freshmen to return to campus this fall. We consider completely open schools to be those which allowed every student to return to campus. For example, Boston College welcomed all students back to campus this Fall, even though they allowed students to request to be fully online. Finally, we consider completely closed schools to be those which allowed no students to return to campus under any circumstances. For example, University of Southern California held all of their classes online this semester and did not allow students to enter campus. </p>
    </section>

    <div id="statetooltip" class="hidden">
      <p><span id="map"></span></p>
    </div>

  <section class="sect">
    <h3>Top 100 Colleges Sized By Cases </h3>
    <h4>Drag</h4>
    <div id="bubble">
      <h5>Choose a color coding method</h5>
      <form>
        <input id="emoji" type="radio" name="pick" value="cases"> Cases
        <input id="emoji" type="radio" name="pick" value="opening"> Opening Decision
        <input id="emoji" type="radio" name="pick" value="closing"> Closing Status
      </form>
    </div>
    <div>
      <p>The visualization depicted above is our “petri dish” of cases in the top 100 ranked colleges. The virus icons each encode one of these colleges and their size is dependent on how many cumulative cases these schools had, as of November 5th. By pressing a button, the visualization changes its color-coding to be dependent on cases, opening decision, and closing status. Opening decision choices are completely open, completely closed, or hybrid. As described earlier, completely open colleges are those who have allowed all students to return to campus this semester, completely closed colleges are those who have allowed no students to return to campus this semester, and hybrid colleges are those who have been selective about which students were allowed to return to campus this semester. Closing status choices are either Thanksgiving, fully remote, early, or Post Finals/Christmas. Colleges that chose Thanksgiving decided to close their campuses fully after sending students home for Thanksgiving break. Colleges that are fully remote never allowed students on campus and will continue this decision between Thanksgiving break and post-finals/Christmas. Colleges that closed early are those who were forced to suspend in-person activity due to rises in Covid-19 cases. Colleges that close post-finals/Christmas are those who will allow students to remain on-campus following Thanksgiving break. </p>
    </div>
  </section>

  <section class="sect">
    <div id="vis2"></div>
    <p>This visualization shows all the schools from our dataset and their number of cases as of November 5th. We wanted to show all schools to address how each school has done so far in terms of cases. The vis is a stacked chart that implements brushing so we can zoom in and see a smaller number of schools where we can hover to see the name and the number of cases. All these schools have used a different system for managing this semester, we will dive more into the systems and how a selection of schools have done so far.</p>
  </section> 

  <section class="intro">
    <div id="vis"></div>
    <p>As demonstrated in the bar chart above, college students (red lines) have not contributed significantly to the cases in their state (blue bars). However, the red line is still above zero for every single state. These college students may have not contributed significantly, but they have contributed. This leads us to ask once more; was the decision to bring college students back to campus a safe one? </p>
  </section>
    
  <div id="tooltip" class="hidden">
    <p><span id="value"></span></p>
  </div>
  <div id="bubbletooltip" class="hidden">
    <p><span id="value"></span></p>
  </div>

  

  <script>
    function buttonAnswer1() {
      document.getElementById("answerHTML").innerHTML = "You answered: "
      const ans = document.getElementById("but1").value;
      let p = document.getElementById("answerHTML").innerHTML
      p = p + " " + ans;
      document.getElementById("answerHTML").innerHTML = p;
      p = null;
    }
    function buttonAnswer2() {
      document.getElementById("answerHTML").innerHTML = "You answered: "
      const ans = document.getElementById("but2").value;
      let p = document.getElementById("answerHTML").innerHTML
      p = p + " " + ans;
      document.getElementById("answerHTML").innerHTML = p;
      p = null;
    }
  </script>
  </body>


</html>
